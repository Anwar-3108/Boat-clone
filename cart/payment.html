<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Address Page</title>
    <link rel="stylesheet" href="payment.css">
    
</head>
<body>

    <div style="position:absolute;top:0px; right:0px; bottom:0px; left:0px; 
       background-color: rgba(0, 0, 0, 0.5);">
         <div id="parent">
             <div id="text_content">
                 <svg  style="height: 30px; margin-left: -10px; margin-top:20px " xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"  data-name="Group 205728" width="151.848" height="62.372" viewBox="0 0 151.848 62.372">
                     <g id="Group_208975" data-name="Group 208975" transform="translate(0 0)">
                       <path id="Path_1" data-name="Path 1" d="M328.831,120.079a18.374,18.374,0,0,1,14.5,6.724q5.8,6.724,5.8,16.779,0,10.005-5.8,16.7a19.108,19.108,0,0,1-29.05,0q-5.849-6.7-5.849-16.7,0-10.061,5.849-16.779a18.508,18.508,0,0,1,14.55-6.724m0,42.195a14.177,14.177,0,0,0,11.261-5.321,22.018,22.018,0,0,0-.02-26.762,14.132,14.132,0,0,0-11.241-5.4,14.278,14.278,0,0,0-11.333,5.346,22.042,22.042,0,0,0,0,26.814,14.3,14.3,0,0,0,11.333,5.321" transform="translate(-268.85 -104.669)" fill="#1a2024"></path>
                       <path id="Path_2" data-name="Path 2" d="M911.15.115v15.3H926v4.017H911.15V46.866q0,6.628,1.236,8.711t6.649,2.079a26.216,26.216,0,0,0,9.672-2.256v4.714a27.981,27.981,0,0,1-10.935,2.359,14.251,14.251,0,0,1-8.75-2.614,8.478,8.478,0,0,1-3.516-7.219V19.429h-14.27l4.576-4.017h9.694V4.429l3.86-4.314Z" transform="translate(-776.859 -0.1)" fill="#1a2024"></path>
                       <path id="Path_3" data-name="Path 3" d="M639.38,167.836H624.387l4.282-8.3h-29.08l4.424,8.3H588.931l18.339-46.5H621.1ZM621.53,153.37l-7.286-20.019-8.976,25.411Z" transform="translate(-513.351 -105.768)" fill="#ed1c24"></path>
                       <path id="Path_4" data-name="Path 4" d="M0,59.12V0H1.548L4.419,4.32,4.426,21.7a18.2,18.2,0,0,1,13.86-6.452c3.772-.093,10.359,1.9,13.782,5.739a22.932,22.932,0,0,1,5.969,15.866c0,7.779-2.031,14.2-6.258,18.89S21.7,62.276,14.694,62.276A35.24,35.24,0,0,1,0,59.12M4.436,26.759,4.348,55.922a24.73,24.73,0,0,0,10.079,1.712C19.783,57.634,25.3,56,28.8,52.123c3.08-2.887,5.071-8.949,5.194-14.883A18.918,18.918,0,0,0,29.7,24.6,13.825,13.825,0,0,0,18.667,19.36c-5.052-.066-9.539,1.376-14.231,7.4" transform="translate(0 0.001)" fill="#1a2024"></path>
                     </g>
                   </svg>
             </div>
     
             <div id="boxes">
                         <div id="Add_Address">
                             <img style="width: 60%;" src="https://static.thenounproject.com/png/1149601-200.png" alt="+">
                             <p > Add Address</p>
                         </div>
     
                         <div id="display_Add"> 
                                 <p style="color:solid rgb(10, 9, 9);">Your contact data </p>
                                 
                         </div>
     
                         <div id="display_bag">
                                 <div id="bag">
                            
                                      <h3 style="margin-left:20px;"> Bag</h3>
                                      <span id="Items" style="margin-left: 60px; margin-top: 20px; font-weight: 600;">  Items :- </span>
                                 </div>
                                 <div id="price">
                                
                                      <h3  style="margin-left:20px;">Price</h3>
                                      <span  id="Grand_total" style="margin-left: 60px; margin-top: 20px; font-weight: 600;"> ₹ </span>
                                 </div>
                                 <div id="authentic">
                                    
                                     <img src="https://t4.ftcdn.net/jpg/03/18/62/29/360_F_318622912_IgyaJDXVei9YTsw2BWuJzQLxY6Mr6kDE.jpg"
                                      alt="" onclick="">
                                      <p> Pay securely. Easy returns and exchange.</p>
                                 </div>
                         </div>
             </div> 
     
         </div>
         <div id="footer">
         </div>

    </div>
   
</body>
<script type="module" src="index.js"></script>
<script>
    document.querySelector("#Add_Address").addEventListener("click" , Dis_form);
    function Dis_form(){
        var form = document.createElement("form");
        var close_img = document.createElement("img");
        close_img.setAttribute("id", "close_id")
        close_img.setAttribute("src", "https://adn-static1.nykaa.com/media/wysiwyg/Payments/Clear.svg");
        close_img.style.width = "30px";
        close_img.setAttribute("onclick" , "closeForm()");
        form.style.backgroundColor= "white";

        var head = document.createElement("h2");
        head.textContent = "New Address";
        head.style.marginLeft = "10px";
        head.style.marginTop="20px"

        var div = document.createElement("div");
        div.append(close_img,head);
        div.setAttribute("id", "close&head");
        div.style.display = "flex";

        var head2 = document.createElement("h2");
        head2.textContent = "Address";


        
        var in4 = document.createElement("input");  //address
        in4.setAttribute("placeholder", "House No / Flat No");
        in4.setAttribute("type", "text");
        in4.setAttribute("id", "in4");
       
        var in5 = document.createElement("input");  //pincode 
        in5.setAttribute("placeholder", "pincode");
        in5.setAttribute("type", "number");
        in5.setAttribute("id", "in5");

        var in6 = document.createElement("input");  //road name
        in6.setAttribute("placeholder", "Road Nmae / Area / City ");
        in6.setAttribute("id", "in6");
        in6.setAttribute("type", "textarea");

        var head3 = document.createElement("h2");
        head3.textContent = "Contact";
        var in1 = document.createElement("input");  //name
        in1.setAttribute("placeholder", "Name");
        in1.setAttribute("type", "text");
        in1.setAttribute("id", "in1");

        var in2 = document.createElement("input"); //email
        in2.setAttribute("id", "in2");
        in2.setAttribute("placeholder", "email");
        in2.setAttribute("type", "email");

        var in3 = document.createElement("input");  //phone no
        in3.setAttribute("placeholder", "Phone no");
        in3.setAttribute("type", "number");
        in3.setAttribute("id", "in3");
       
        var btt = document.createElement("button");//button
        btt.textContent = "Ship to this Address";

        form.append(div,head2,in5,in4,in6,head3,in1,in2,in3,btt);
        document.querySelector("body").append(form);

        // store in local store

       document.querySelector("form").addEventListener("submit", address_add);

    }
   
    function closeForm()
    {
        console.log("Close");
        var form_closing = document.querySelector("form");
        form_closing.style.display = "none";
    }
    
    var Addpage = [];
    function address_add(){
    event.preventDefault();
    var name = document.querySelector("#in1").value ;
    var email = document.querySelector("#in2").value ;
    var phone_no = document.querySelector("#in3").value ;
    var address = document.querySelector("#in4").value ;
    var pincode = document.querySelector("#in5").value ;
    var road_no = document.querySelector("#in6").value ;

    if(name === "" || email === "" || phone_no === "" || address === "" || pincode === "" || road_no === ""){
            alert("Fill all Details");
        }
        else{
            var page = {name:name, email:email, phone_no:phone_no, address:address, pincode:pincode, road_no:road_no};
    Addpage.push(page);
    localStorage.setItem("Address-data", JSON.stringify(Addpage));
    console.log(Addpage);

    var DisplayForm = JSON.parse(localStorage.getItem("Address-data")) || [];

         DisplayForm.map(function(elem){
            var Disname = document.createElement("h4");
            Disname.textContent = elem.name;

            var Disadd = document.createElement("p");
            Disadd.setAttribute("id", "gotoadd");
            Disadd.textContent = address;

            var DisRoad = document.createElement("p");
            DisRoad.textContent = road_no;

            var DisNo = document.createElement("p");
            DisNo.textContent = phone_no;

            var DisButton = document.createElement("a");
            DisButton.setAttribute("id", "gotopay");
            DisButton.setAttribute("href", "payment.html");
            DisButton.textContent = "Continue";

            console.log(Disname)
            document.querySelector("#display_Add").append(Disname,Disadd,DisRoad,DisNo,DisButton);
            });   
        }
  }
    
 var dataFromCart = JSON.parse(localStorage.getItem("cartProducts")) || [];

// span will append number of products       
 var NumberofItems = localStorage.getItem("countitem")
 document.querySelector("#Items").innerHTML = NumberofItems;

//  span grand total
var GT = localStorage.getItem("cartvalue");
console.log(GT);
document.querySelector("#Grand_total").innerHTML = "₹ " + GT;

</script>
</html>